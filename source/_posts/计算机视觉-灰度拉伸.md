---
title: '[计算机视觉]灰度拉伸 & 直方图均衡化'
date: 2024-05-06 22:21:57
tags:
- 灰度拉伸
- 直方图均衡化
categories: 
- 计算机视觉
- 点操作
---

# 1.灰度拉伸

有两种

- **线性拉伸**：将灰度范围线性扩展

- **非线性拉伸**：将感兴趣的灰度范围线性扩展，相对抑制不感兴趣的灰度区域

## 1.1 效果

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062223406.png)

## 1.2 原理

### 1.2.1 线性拉伸

即进行线性点运算，输出灰度级与输入灰度级呈线性关系的点运算：

$$D_B=f(D_A)=aD_A+b$$

- 其中，$D_A$ 代表的是二维图像上的灰度值
- $D_B$ 代表的是拉伸后二维图像上的灰度值
- $a$ 是线性方程的**系数**
- $b$ 是线性方程的**截距**

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062238834.png)

------------------

很自然需要分情况讨论，$a<0$ 、 $0<a<1$ 、 $a=1$ 和 $a>1$ 以及 $b=0$ 、 $b>0$ 和 $b<0$

- 当$a<0, b=0$时，输出图像的暗区域将变亮，亮区域将变暗，**反色效果**
  - 注意如果$-1<a<0$，反色后还是有压缩对比度效果
  - 从直方图角度看，直方图的柱子在x轴下方了


![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062318235.png)

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062317275.png)

- 当$0<a<1, b=0$时，输出图像的对比度减小，**压缩对比度**

  - 适用于原图灰度的动态范围太大的情况
  - 从直方图角度看，直方图的柱子群分布范围变窄了，但是直方图的形状**压缩**了

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062302707.png)

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062306112.png)

- 当$a=1, b>0$时，图像整体**增亮**
- 当$a=1, b<0$时，图像整体**变暗**

  - 使所有像素的灰度值上移或下移
  - 其效果是使整个图像更暗或更亮
  - 从直方图角度看，就是整个柱子群向255**平移**或者向0**平移**，分布范围不变

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062320395.png)

- 当$a>1$时，输出图像的对比度拉伸，**拉伸对比度**
  - 可使图像动态范围增大，图像对比度扩展。
  - 从而使图像变得清晰以及图像上的特征变得明显
  - 从直方图角度看，就是整个柱子群柱子群分布范围变宽了，直方图的形状被**拉伸**了

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062307636.png)

![](https://cdn.jsdelivr.net/gh/oixel64/imgs/imgs/202405062307201.png)

## 1.3 实现

